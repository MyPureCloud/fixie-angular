(function(){angular.module("fixtable",[]),angular.module("fixtable").controller("cellCtrl",["$scope","$rootScope",function(a,b){return a.editing=!1,a.getCellTemplate=function(){var b,c;return c=a.col.template||a.options.cellTemplate,b=a.col.editTemplate||a.options.editTemplate,a.editing?b:c},a.beginEdit=function(){return a.col.editable?(a.editing=!0,a.$emit("fixtableBeginEdit")):void 0},a.endEdit=function(){return a.editing=!1,a.$emit("fixtableEndEdit")},a.handleKeypress=function(b){return 13===b.which?(a.endEdit(),a.$emit("fixtableFocusOnCell",{colIndex:a.colIndex,rowIndex:a.rowIndex+1})):void 0},b.$on("fixtableBeginEdit",function(b){return a!==b.targetScope?a.editing=!1:void 0}),b.$on("fixtableFocusOnCell",function(b,c){return c.colIndex===a.colIndex&&c.rowIndex===a.rowIndex?a.beginEdit():void 0})}]),angular.module("fixtable").directive("fixtable",["$timeout","fixtableDefaultOptions","fixtableFilterTypes",function(a,b,c){return{link:function(d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;for(t in b)z=b[t],Object.prototype.hasOwnProperty.call(d.options,t)||(d.options[t]=z);for(d.options.rowSelection&&d.options.columns.unshift({rowSelectionColumn:!0,width:d.options.rowSelectionColumnWidth}),d.$parent.$watchCollection(d.options.selectedItems,function(a){return d.selectedItems=a}),l=new Fixtable(e[0],d.options.debugMode),w=d.options.columns,p=r=0,u=w.length;u>r;p=++r)g=w[p],g.width&&l.setColumnWidth(p+1,g.width);for(l.setDimensions(),d.options._paging="function"==typeof d.options.paging?d.options.paging:function(){return d.options.paging},d.$parent.$watchCollection(d.options.data,function(b){return d.data=b,d.options._paging()||k(),a(function(){return l.setDimensions(),l.scrollTop()})}),d.options.reflow&&d.$parent.$watch(d.options.reflow,function(b){return b?a(function(){return l.setDimensions()}):void 0}),d.$watch("options._paging()",function(a){return null!=a?n():void 0}),d.$watch("options.pagingOptions",function(a,b){var c,e;if(a)return a.currentPage=parseInt(a.currentPage),d.totalPages=Math.ceil(a.totalItems/a.pageSize)||1,d.totalPagesOoM=(d.totalPages+"").length,a.currentPage>d.totalPages&&(a.currentPage=d.totalPages),c=a.currentPage!==b.currentPage,e=a.pageSize!==b.pageSize,a===b||c||e?n():void 0},!0),d.options.loading&&d.$parent.$watch(d.options.loading,function(a){return d.loading=a}),n=function(){var a;return(a=d.$parent[d.options.pagingOptions.callback])(d.options.pagingOptions,d.options.sort,d.appliedFilters)},d.nextPage=function(){return d.pagingOptions.currentPage+=1},d.prevPage=function(){return d.pagingOptions.currentPage-=1},d.parent=d.$parent,d.columnFilters=[],x=d.options.columns,q=s=0,v=x.length;v>s;q=++s)h=x[q],h.filter&&(j=c[h.filter.type].defaultValues,i=c[h.filter.type].filterFn,null==(f=h.filter).values&&(f.values=angular.copy(j)||{}),d.columnFilters.push({type:h.filter.type,property:h.property,values:h.filter.values,filterFn:h.filter.filterFn||i}),A="options.columns["+q+"].filter.values",d.$watch(A,function(a,b){var c;if(a!==b)return c=m(),angular.equals(c,d.appliedFilters)?d.filtersDirty=!1:(d.filtersDirty=!0,d.options.realtimeFiltering?d.applyFilters():void 0)},!0));return d.options.realtimeFiltering||d.$watch("filtersDirty",function(){return a(function(){return l.setDimensions()})}),d.applyFilters=function(){return d.appliedFilters=m(),d.filtersDirty=!1,y()},m=function(){var a,b,c,e,f;for(e={},f=d.columnFilters,b=0,c=f.length;c>b;b++)a=f[b],e[a.property]={type:a.type,values:angular.copy(a.values)};return e},d.appliedFilters=m(),d.getFilterTemplate=function(a){return c[a].templateUrl},d.changeSort=function(a){var b,c;return null==(b=d.options).sort&&(b.sort={}),d.options.sort.property===a?(c=d.options.sort.direction,d.options.sort.direction="asc"===c?"desc":"asc"):(d.options.sort.property=a,d.options.sort.direction="asc"),y()},o=function(a){var b,c,e,f,g;if(!(null!=(e=d.selectedItems)?e.length:void 0))return-1;for(f=d.selectedItems,q=b=0,c=f.length;c>b;q=++b)if(g=f[q],angular.equals(a,g))return q;return-1},d.rowSelected=function(a){return-1!==o(a)},d.toggleRowSelection=function(a){return d.rowSelected(a)?(d.selectedItems.splice(o(a),1),d.$emit("fixtableUnselectRow",a)):(d.selectedItems.push(a),d.$emit("fixtableSelectRow",a))},d.pageSelected=function(){var a,b,c,e,f,g;if(!((null!=(c=d.selectedItems)?c.length:void 0)&&(null!=(e=d.data)?e.length:void 0)))return!1;for(f=d.data,a=0,b=f.length;b>a;a++)if(g=f[a],!d.rowSelected(g)&&!d.options.rowSelectionDisabled(g))return!1;return!0},d.pagePartiallySelected=function(){var a,b,c,e,f,g;if(!((null!=(c=d.selectedItems)?c.length:void 0)&&(null!=(e=d.data)?e.length:void 0)))return!1;if(d.pageSelected())return!1;for(f=d.data,a=0,b=f.length;b>a;a++)if(g=f[a],d.rowSelected(g))return!0;return!1},d.togglePageSelection=function(){var a,b,c,e,f,g,h;if(d.pageSelected()){for(f=d.data,a=0,b=f.length;b>a;a++)h=f[a],d.options.rowSelectionDisabled(h)||d.rowSelected(h)&&d.selectedItems.splice(o(h),1);return d.$emit("fixtableUnselectAllRows")}for(g=d.data,e=0,c=g.length;c>e;e++)h=g[e],d.options.rowSelectionDisabled(h)||d.rowSelected(h)||d.selectedItems.push(h);return d.$emit("fixtableSelectAllRows")},y=function(){return d.options._paging()?n():k()},k=function(){var b,c,e,f,h,i,j,k,m,n,o,q,r,s,t,u;if(d.data=(null!=(n=d.$parent[d.options.data])?n.slice(0):void 0)||[],null!=(o=d.options.sort)?o.property:void 0){for(q=d.options.columns,f=0,h=q.length;h>f;f++)if(g=q[f],g.property===d.options.sort.property&&g.sortCompareFunction){c=g.sortCompareFunction;break}b=c||function(a,b){var c,e;return c=a[d.options.sort.property],e=b[d.options.sort.property],c>e?1:e>c?-1:0},d.data.sort(function(a,c){var e,f;return f=d.options.sort.direction,e=b(a,c),"asc"===f?e:~--e})}if(d.data.length)for(r=function(){t=[];for(var a=0,b=d.data.length-1;b>=0?b>=a:a>=b;b>=0?a++:a--)t.push(a);return t}.apply(this).reverse(),k=0,i=r.length;i>k;k++)for(p=r[k],s=d.columnFilters,m=0,j=s.length;j>m;m++)if(e=s[m],u=e.property?d.data[p][e.property]:d.data[p],!e.filterFn(u,e.values)){d.data.splice(p,1);break}return d.$emit("fixtableDataLength",d.data.length),a(function(){return l.setDimensions()})}},replace:!0,restrict:"E",scope:{options:"="},templateUrl:"fixtable/templates/fixtable.html"}}]),angular.module("fixtable").directive("fixtableIndeterminateCheckbox",[function(){return{restrict:"A",link:function(a,b,c){return c.$observe("fixtableIndeterminateCheckbox",function(a){return b[0].indeterminate="true"===a?!0:!1})}}}]),angular.module("fixtable").directive("fixtableInput",[function(){return{replace:!0,restrict:"E",templateUrl:"fixtable/templates/fixtableInput.html",link:function(a,b){return b[0].focus()}}}]),angular.module("fixtable").provider("fixtableDefaultOptions",function(){return this.defaultOptions={applyFiltersTemplate:"fixtable/templates/applyFilters.html",cellTemplate:"fixtable/templates/bodyCell.html",checkboxCellTemplate:"fixtable/templates/checkboxCell.html",checkboxHeaderTemplate:"fixtable/templates/checkboxHeaderCell.html",debugMode:!1,editTemplate:"fixtable/templates/editCell.html",emptyTemplate:"fixtable/templates/emptyMessage.html",footerTemplate:"fixtable/templates/footer.html",headerTemplate:"fixtable/templates/headerCell.html",loadingTemplate:"fixtable/templates/loading.html",realtimeFiltering:!0,sortIndicatorTemplate:"fixtable/templates/sortIndicator.html",rowSelection:!1,rowSelectionColumnWidth:40,rowSelectionDisabled:function(){return!1},rowSelectionWithCheckboxOnly:!1,selectedRowClass:"active"},this.$get=function(){return this.defaultOptions},this.setDefaultOptions=function(a){var b,c,d;c=[];for(b in a)d=a[b],c.push(this.defaultOptions[b]=d);return c},null}),angular.module("fixtable").provider("fixtableFilterTypes",function(){return this.filterTypes={},this.filterTypes.search={defaultValues:{query:""},templateUrl:"fixtable/templates/columnFilters/search.html",filterFn:function(a,b){var c;return c=new RegExp(b.query,"i"),c.test(a)}},this.filterTypes.select={defaultValues:{selected:null},templateUrl:"fixtable/templates/columnFilters/select.html",filterFn:function(a,b){return null==b.selected?!0:a===b.selected}},this.$get=function(){return this.filterTypes},this.add=function(a,b){return this.filterTypes[a]=b},this.update=function(a,b){var c,d,e;d=[];for(c in b)e=b[c],d.push(this.filterTypes[a][c]=e);return d},null})}).call(this),angular.module("fixtable").run(["$templateCache",function(a){"use strict";a.put("fixtable/templates/applyFilters.html",'<button type="button" ng-click="applyFilters()">Apply</button>'),a.put("fixtable/templates/bodyCell.html","{{ row[col.property] }}"),a.put("fixtable/templates/checkboxCell.html",'<div style="text-align: center"><input type="checkbox" ng-checked="rowSelected(row)" ng-click="options.rowSelectionWithCheckboxOnly && toggleRowSelection(row)" ng-disabled="options.rowSelectionDisabled(row)"></div>'),a.put("fixtable/templates/checkboxHeaderCell.html",'<div style="text-align: center"><input type="checkbox" fixtable-indeterminate-checkbox="{{ pagePartiallySelected() }}" ng-checked="pageSelected()" ng-click="togglePageSelection()"></div>'),a.put("fixtable/templates/columnFilters/search.html",'<input type="text" ng-model="values.query">'),a.put("fixtable/templates/columnFilters/select.html",'<select ng-model="values.selected" ng-options="opt.value as opt.label for opt in options.selectOptions"><option value="">{{ options.nullOptionLabel || \'All\' }}</option></select>'),a.put("fixtable/templates/editCell.html","<fixtable-input></fixtable-input>"),a.put("fixtable/templates/emptyMessage.html",'<span ng-bind="options.emptyMessage"></span>'),a.put("fixtable/templates/fixtable.html",'<div class="fixtable" ng-class="{\'fixtable-has-filter\': columnFilters.length}"><div class="fixtable-header"></div><div class="fixtable-filters" ng-show="columnFilters.length"><div ng-show="!options.realtimeFiltering && filtersDirty" ng-include="options.applyFiltersTemplate"></div></div><div class="fixtable-inner"><table ng-class="options.tableClass"><thead><tr class="fixtable-column-headers"><th ng-if="options.rowSelection"><div ng-include="options.checkboxHeaderTemplate"></div></th><th ng-repeat="(colIndex, col) in options.columns" ng-if="!col.rowSelectionColumn" ng-click="col.sortable && changeSort(col.property)" ng-class="{\'fixtable-sortable-column-header\': col.sortable}" class="{{ col.headerClass }}"><div ng-include="options.headerTemplate"></div></th></tr><tr class="fixtable-column-filters"><th ng-repeat="(colIndex, col) in options.columns"><div ng-if="col.filter" ng-include="getFilterTemplate(col.filter.type)" ng-init="values=col.filter.values;options=col.filter.options"></div></th></tr></thead><tbody><tr ng-repeat="(rowIndex, row) in data" class="{{ rowSelected(row) ? options.selectedRowClass: \'\' }}" ng-click="options.rowSelection && !options.rowSelectionWithCheckboxOnly && !options.rowSelectionDisabled(row) && toggleRowSelection(row)" style="{{ options.rowSelection && !options.rowSelectionWithCheckboxOnly && !options.rowSelectionDisabled(row) ? \'cursor:pointer;\' : \'\' }}" ng-class="{{ options.rowClass }}"><td ng-if="options.rowSelection" ng-include="options.checkboxCellTemplate"></td><td class="{{ col.cellClass }}" ng-repeat="(colIndex, col) in options.columns" ng-if="!col.rowSelectionColumn" ng-include="getCellTemplate()" ng-controller="cellCtrl" ng-class="{\'fixtable-cell-editing\': editing, \'fixtable-cell-editable\': col.editable}" ng-click="beginEdit()"></td></tr></tbody></table><div class="fixtable-centered"><div ng-if="loading" ng-include="options.loadingTemplate"></div><div ng-if="!data.length && !loading" ng-include="options.emptyTemplate"></div></div></div><div class="fixtable-footer" ng-show="options._paging()" ng-include="options.footerTemplate" onload="pagingOptions = options.pagingOptions"></div></div>'),a.put("fixtable/templates/fixtableInput.html",'<input ng-blur="endEdit()" ng-keypress="handleKeypress($event)" ng-model="row[col.property]">'),a.put("fixtable/templates/footer.html",'Page <button type="button" ng-disabled="pagingOptions.currentPage === 1" ng-click="prevPage()">&laquo;</button> <input type="text" ng-model="pagingOptions.currentPage" size="{{ totalPagesOoM }}"> <button type="button" ng-disabled="pagingOptions.currentPage === totalPages" ng-click="nextPage()">&raquo;</button> of {{ totalPages }} <span ng-if="pagingOptions.pageSizeOptions.length > 1">&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;<select ng-model="pagingOptions.pageSize" ng-options="pageSize for pageSize in pagingOptions.pageSizeOptions"></select>&nbsp;items per page</span>'),a.put("fixtable/templates/headerCell.html",'{{ col.label }} <span ng-if="col.property && options.sort.property === col.property" ng-include="options.sortIndicatorTemplate"></span>'),a.put("fixtable/templates/loading.html",'<img src="data:image/gif;base64,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">'),a.put("fixtable/templates/sortIndicator.html","<span class=\"fixtable-caret\" ng-class=\"{'fixtable-caret-reversed': options.sort.direction === 'asc'}\"></span>")}]);